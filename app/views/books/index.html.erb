<h1>Books</h1>

<% if flash[:notice] %>
  <p><%= flash[:notice] %></p>
<% end %>

  <table>
    <thead>
        <tr>
            <th>title</th>
            <th>body</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <% @books.each do |book| %>
        <tr>
            <tb>
                <%= book.title %>
            </tb>
            <tb>
                <%= book.body %>
            </tb>
            <tb>
                <%= link_to"Show",book_path(book.id) %>
                <%= link_to"Edit",edit_book_path(book.id) %>
                <%= link_to"Destroy",book_path(book.id), method: :delete %>
            </tb>
        </tr>
        <% end %>
    </tbody>
  </table>

<h2>New book</h2>

  <% if @book.errors.any? %>
    <%= @book.errors.count %>件のerrorが発生しました
    <% @book.errors.full_messages.each do |message| %>
      <%= message %>
    <% end %>
<% end %>

<%= form_with model:@book, local:true do |f| %>
<h4>Title</h4>
<%= f.text_field :title %>
<h4>Body</h4>
<%= f.text_area :body %>
<%= f.submit 'Create Book' %>
<% end %>